version: '3.8'

services:
  java-service:
    build: ./java-service
    container_name: bailing-java
    ports:
      - "8080:8080"
    environment:
      - DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY}
      - SPRING_PROFILES_ACTIVE=prod
    volumes:
      - ./config:/app/config
      - ./tmp:/app/tmp
      - ./logs:/app/logs
    restart: unless-stopped
    command: ["java", "-jar", "bailing-java.jar", "config/config-java-only.yaml"]

networks:
  default:
    name: bailing-network
